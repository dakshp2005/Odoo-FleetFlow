"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("src/middleware",{

/***/ "(middleware)/./src/middleware.ts":
/*!***************************!*\
  !*** ./src/middleware.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   middleware: () => (/* binding */ middleware)\n/* harmony export */ });\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/ssr */ \"(middleware)/./node_modules/@supabase/ssr/dist/module/index.js\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n\n\nasync function middleware(request) {\n    let supabaseResponse = next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.next({\n        request\n    });\n    const supabase = (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createServerClient)(\"https://kqqazfyatcapulqgxuto.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtxcWF6ZnlhdGNhcHVscWd4dXRvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE2MzI2MDMsImV4cCI6MjA4NzIwODYwM30.6ntrRS1AfOK4zxgx43G_nx_QDaH9-m2iM4Q7eCjW8UY\", {\n        cookies: {\n            getAll () {\n                return request.cookies.getAll();\n            },\n            setAll (cookiesToSet) {\n                cookiesToSet.forEach(({ name, value })=>request.cookies.set(name, value));\n                supabaseResponse = next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.next({\n                    request\n                });\n                cookiesToSet.forEach(({ name, value, options })=>supabaseResponse.cookies.set(name, value, options));\n            }\n        }\n    });\n    const { data: { user } } = await supabase.auth.getUser();\n    const isDashboardRoute = request.nextUrl.pathname.startsWith(\"/dashboard\") || request.nextUrl.pathname.startsWith(\"/vehicles\") || request.nextUrl.pathname.startsWith(\"/trips\") || request.nextUrl.pathname.startsWith(\"/maintenance\") || request.nextUrl.pathname.startsWith(\"/expenses\") || request.nextUrl.pathname.startsWith(\"/drivers\") || request.nextUrl.pathname.startsWith(\"/analytics\");\n    if (!user && isDashboardRoute) {\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.redirect(new URL(\"/login\", request.url));\n    }\n    if (user && request.nextUrl.pathname === \"/login\") {\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.redirect(new URL(\"/dashboard\", request.url));\n    }\n    return supabaseResponse;\n}\nconst config = {\n    matcher: [\n        \"/((?!_next/static|_next/image|favicon.ico|api).*)\"\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vc3JjL21pZGRsZXdhcmUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFtRDtBQUNVO0FBRXRELGVBQWVFLFdBQVdDLE9BQW9CO0lBQ25ELElBQUlDLG1CQUFtQkgscURBQVlBLENBQUNJLElBQUksQ0FBQztRQUFFRjtJQUFRO0lBRW5ELE1BQU1HLFdBQVdOLGlFQUFrQkEsQ0FDakNPLDBDQUFvQyxFQUNwQ0Esa05BQXlDLEVBQ3pDO1FBQ0VJLFNBQVM7WUFDUEM7Z0JBQ0UsT0FBT1QsUUFBUVEsT0FBTyxDQUFDQyxNQUFNO1lBQy9CO1lBQ0FDLFFBQU9DLFlBQThEO2dCQUNuRUEsYUFBYUMsT0FBTyxDQUNsQixDQUFDLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFtQyxHQUMvQ2QsUUFBUVEsT0FBTyxDQUFDTyxHQUFHLENBQUNGLE1BQU1DO2dCQUU5QmIsbUJBQW1CSCxxREFBWUEsQ0FBQ0ksSUFBSSxDQUFDO29CQUFFRjtnQkFBUTtnQkFDL0NXLGFBQWFDLE9BQU8sQ0FDbEIsQ0FBQyxFQUNDQyxJQUFJLEVBQ0pDLEtBQUssRUFDTEUsT0FBTyxFQUtSLEdBQUtmLGlCQUFpQk8sT0FBTyxDQUFDTyxHQUFHLENBQUNGLE1BQU1DLE9BQU9FO1lBRXBEO1FBQ0Y7SUFDRjtJQUdGLE1BQU0sRUFDSkMsTUFBTSxFQUFFQyxJQUFJLEVBQUUsRUFDZixHQUFHLE1BQU1mLFNBQVNnQixJQUFJLENBQUNDLE9BQU87SUFFL0IsTUFBTUMsbUJBQ0pyQixRQUFRc0IsT0FBTyxDQUFDQyxRQUFRLENBQUNDLFVBQVUsQ0FBQyxpQkFDcEN4QixRQUFRc0IsT0FBTyxDQUFDQyxRQUFRLENBQUNDLFVBQVUsQ0FBQyxnQkFDcEN4QixRQUFRc0IsT0FBTyxDQUFDQyxRQUFRLENBQUNDLFVBQVUsQ0FBQyxhQUNwQ3hCLFFBQVFzQixPQUFPLENBQUNDLFFBQVEsQ0FBQ0MsVUFBVSxDQUFDLG1CQUNwQ3hCLFFBQVFzQixPQUFPLENBQUNDLFFBQVEsQ0FBQ0MsVUFBVSxDQUFDLGdCQUNwQ3hCLFFBQVFzQixPQUFPLENBQUNDLFFBQVEsQ0FBQ0MsVUFBVSxDQUFDLGVBQ3BDeEIsUUFBUXNCLE9BQU8sQ0FBQ0MsUUFBUSxDQUFDQyxVQUFVLENBQUM7SUFFdEMsSUFBSSxDQUFDTixRQUFRRyxrQkFBa0I7UUFDN0IsT0FBT3ZCLHFEQUFZQSxDQUFDMkIsUUFBUSxDQUFDLElBQUlDLElBQUksVUFBVTFCLFFBQVEyQixHQUFHO0lBQzVEO0lBRUEsSUFBSVQsUUFBUWxCLFFBQVFzQixPQUFPLENBQUNDLFFBQVEsS0FBSyxVQUFVO1FBQ2pELE9BQU96QixxREFBWUEsQ0FBQzJCLFFBQVEsQ0FBQyxJQUFJQyxJQUFJLGNBQWMxQixRQUFRMkIsR0FBRztJQUNoRTtJQUVBLE9BQU8xQjtBQUNUO0FBRU8sTUFBTTJCLFNBQVM7SUFDcEJDLFNBQVM7UUFBQztLQUFvRDtBQUNoRSxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9taWRkbGV3YXJlLnRzP2QxOTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlU2VydmVyQ2xpZW50IH0gZnJvbSBcIkBzdXBhYmFzZS9zc3JcIjtcclxuaW1wb3J0IHsgTmV4dFJlc3BvbnNlLCB0eXBlIE5leHRSZXF1ZXN0IH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWlkZGxld2FyZShyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIGxldCBzdXBhYmFzZVJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLm5leHQoeyByZXF1ZXN0IH0pO1xyXG5cclxuICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZVNlcnZlckNsaWVudChcclxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCEsXHJcbiAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSEsXHJcbiAgICB7XHJcbiAgICAgIGNvb2tpZXM6IHtcclxuICAgICAgICBnZXRBbGwoKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVxdWVzdC5jb29raWVzLmdldEFsbCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0QWxsKGNvb2tpZXNUb1NldDogeyBuYW1lOiBzdHJpbmc7IHZhbHVlOiBzdHJpbmc7IG9wdGlvbnM/OiBhbnkgfVtdKSB7XHJcbiAgICAgICAgICBjb29raWVzVG9TZXQuZm9yRWFjaChcclxuICAgICAgICAgICAgKHsgbmFtZSwgdmFsdWUgfTogeyBuYW1lOiBzdHJpbmc7IHZhbHVlOiBzdHJpbmcgfSkgPT5cclxuICAgICAgICAgICAgICByZXF1ZXN0LmNvb2tpZXMuc2V0KG5hbWUsIHZhbHVlKSxcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBzdXBhYmFzZVJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLm5leHQoeyByZXF1ZXN0IH0pO1xyXG4gICAgICAgICAgY29va2llc1RvU2V0LmZvckVhY2goXHJcbiAgICAgICAgICAgICh7XHJcbiAgICAgICAgICAgICAgbmFtZSxcclxuICAgICAgICAgICAgICB2YWx1ZSxcclxuICAgICAgICAgICAgICBvcHRpb25zLFxyXG4gICAgICAgICAgICB9OiB7XHJcbiAgICAgICAgICAgICAgbmFtZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgIHZhbHVlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgb3B0aW9ucz86IGFueTtcclxuICAgICAgICAgICAgfSkgPT4gc3VwYWJhc2VSZXNwb25zZS5jb29raWVzLnNldChuYW1lLCB2YWx1ZSwgb3B0aW9ucyksXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICk7XHJcblxyXG4gIGNvbnN0IHtcclxuICAgIGRhdGE6IHsgdXNlciB9LFxyXG4gIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcclxuXHJcbiAgY29uc3QgaXNEYXNoYm9hcmRSb3V0ZSA9XHJcbiAgICByZXF1ZXN0Lm5leHRVcmwucGF0aG5hbWUuc3RhcnRzV2l0aChcIi9kYXNoYm9hcmRcIikgfHxcclxuICAgIHJlcXVlc3QubmV4dFVybC5wYXRobmFtZS5zdGFydHNXaXRoKFwiL3ZlaGljbGVzXCIpIHx8XHJcbiAgICByZXF1ZXN0Lm5leHRVcmwucGF0aG5hbWUuc3RhcnRzV2l0aChcIi90cmlwc1wiKSB8fFxyXG4gICAgcmVxdWVzdC5uZXh0VXJsLnBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvbWFpbnRlbmFuY2VcIikgfHxcclxuICAgIHJlcXVlc3QubmV4dFVybC5wYXRobmFtZS5zdGFydHNXaXRoKFwiL2V4cGVuc2VzXCIpIHx8XHJcbiAgICByZXF1ZXN0Lm5leHRVcmwucGF0aG5hbWUuc3RhcnRzV2l0aChcIi9kcml2ZXJzXCIpIHx8XHJcbiAgICByZXF1ZXN0Lm5leHRVcmwucGF0aG5hbWUuc3RhcnRzV2l0aChcIi9hbmFseXRpY3NcIik7XHJcblxyXG4gIGlmICghdXNlciAmJiBpc0Rhc2hib2FyZFJvdXRlKSB7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLnJlZGlyZWN0KG5ldyBVUkwoXCIvbG9naW5cIiwgcmVxdWVzdC51cmwpKTtcclxuICB9XHJcblxyXG4gIGlmICh1c2VyICYmIHJlcXVlc3QubmV4dFVybC5wYXRobmFtZSA9PT0gXCIvbG9naW5cIikge1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdChuZXcgVVJMKFwiL2Rhc2hib2FyZFwiLCByZXF1ZXN0LnVybCkpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHN1cGFiYXNlUmVzcG9uc2U7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XHJcbiAgbWF0Y2hlcjogW1wiLygoPyFfbmV4dC9zdGF0aWN8X25leHQvaW1hZ2V8ZmF2aWNvbi5pY298YXBpKS4qKVwiXSxcclxufTtcclxuIl0sIm5hbWVzIjpbImNyZWF0ZVNlcnZlckNsaWVudCIsIk5leHRSZXNwb25zZSIsIm1pZGRsZXdhcmUiLCJyZXF1ZXN0Iiwic3VwYWJhc2VSZXNwb25zZSIsIm5leHQiLCJzdXBhYmFzZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImNvb2tpZXMiLCJnZXRBbGwiLCJzZXRBbGwiLCJjb29raWVzVG9TZXQiLCJmb3JFYWNoIiwibmFtZSIsInZhbHVlIiwic2V0Iiwib3B0aW9ucyIsImRhdGEiLCJ1c2VyIiwiYXV0aCIsImdldFVzZXIiLCJpc0Rhc2hib2FyZFJvdXRlIiwibmV4dFVybCIsInBhdGhuYW1lIiwic3RhcnRzV2l0aCIsInJlZGlyZWN0IiwiVVJMIiwidXJsIiwiY29uZmlnIiwibWF0Y2hlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./src/middleware.ts\n");

/***/ })

});